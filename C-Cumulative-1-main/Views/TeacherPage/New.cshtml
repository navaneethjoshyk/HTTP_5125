@model School.Models.Teacher

@{
    ViewData["Title"] = "Add Teacher";
    Layout = null;
}

<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Add New Teacher</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body class="bg-light">

    <div class="container mt-5 p-4 shadow bg-white rounded">
        <h2 class="mb-4">Add a New Teacher</h2>

        @* ✅ TempData messages *@
        @if (TempData["Success"] != null)
        {
            <div class="alert alert-success">@TempData["Success"]</div>
        }
        @if (TempData["Error"] != null)
        {
            <div class="alert alert-danger">@TempData["Error"]</div>
        }

        @* ✅ Model validation summary *@
        @if (!ViewData.ModelState.IsValid)
        {
            <div class="alert alert-warning">
                <strong>Form has errors:</strong>
                <ul>
                    @foreach (var error in ViewData.ModelState.Values.SelectMany(v => v.Errors))
                    {
                        <li>@error.ErrorMessage</li>
                    }
                </ul>
            </div>
        }

        <form asp-action="New" method="post" novalidate asp-antiforgery="true">
            <div class="mb-3">
                <label asp-for="TeacherFName" class="form-label"></label>
                <input asp-for="TeacherFName" class="form-control" placeholder="e.g. John" />
                <span asp-validation-for="TeacherFName" class="text-danger"></span>
            </div>

            <div class="mb-3">
                <label asp-for="TeacherLName" class="form-label"></label>
                <input asp-for="TeacherLName" class="form-control" placeholder="e.g. Smith" />
                <span asp-validation-for="TeacherLName" class="text-danger"></span>
            </div>

            <div class="mb-3">
                <label asp-for="HireDate" class="form-label"></label>
                <input asp-for="HireDate" type="date" class="form-control" />
                <span asp-validation-for="HireDate" class="text-danger"></span>
            </div>

            <div class="mb-3">
                <label asp-for="Salary" class="form-label"></label>
                <input asp-for="Salary" class="form-control" placeholder="e.g. 50000" />
                <span asp-validation-for="Salary" class="text-danger"></span>
            </div>

            <div class="mb-3">
                <label asp-for="EmployeeNumber" class="form-label"></label>
                <input asp-for="EmployeeNumber" class="form-control" placeholder="e.g. T123" />
                <span asp-validation-for="EmployeeNumber" class="text-danger"></span>
            </div>

            <div class="mb-3">
                <label asp-for="TeacherWorkPhone" class="form-label"></label>
                <input asp-for="TeacherWorkPhone" class="form-control" placeholder="e.g. 416-123-4567" />
                <span asp-validation-for="TeacherWorkPhone" class="text-danger"></span>
            </div>

            <button type="submit" class="btn btn-primary">Add Teacher</button>
        </form>
    </div>

    @section Scripts {
        <partial name="_ValidationScriptsPartial" />
    }

    <script>
        // Optional formatting
        $(function () {
            $('input[type="text"]').on('blur', function () {
                let val = $(this).val();
                if (val.length > 1)
                    $(this).val(val.charAt(0).toUpperCase() + val.slice(1));
            });
        });
    </script>

</body>
</html>
